<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>
			Todo管理
		</title>
		<link rel="stylesheet" href="../css/mainPageCss.css">
		<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
	</head>
	<body>
		<h1 class="h1_class">過去の予定一覧　(today : <span id="view_time"></span>)</h1>
		<script type="text/javascript">
			document.getElementById("view_time").innerHTML = getNow();

			function getNow() {
				var now = new Date();
				var year = now.getFullYear();
				var month = now.getMonth() + 1;
				var day = now.getDate();

				var nowData = year + "/" + month + "/" + day;
				return nowData;
			}
		</script>
		
		<label for="progressBar">進捗:
			<progress id="progressBar" max="100" value="0"></progress> <div class="todayTodoListClass"></div>
		</label>
		<ul id="menu">
			<li><a href="mainPage.html">今日の予定</a> </li>
			<li><a href="tomorrowPage.html">明日の予定</a></li>
		</ul>
	
		<form name="todayTodoList">
			<h2 class="h2_class">必須項目！</h2>
				<p class="Required" id="RequiredBox">
					<input type="checkbox" name="Required" value="1" id="1"> test1_1 <br>
					<input type="checkbox" name="Required" value="2" id="2"> test1_2 <br>
					<input type="checkbox" name="Required" value="3" id="3"> test1_3 <br>
					<input type="checkbox" name="Required" value="4" id="4"> test1_4 <br>
					<input type="checkbox" name="Required" value="5" id="5"> test1_5 <br>
				</p>
			<h2 class="h2_class">選択必須項目！</h2>
				<p class="Selection" id=SelectionBox>
					<input type="checkbox" name="Selection" value="1" id="1"> test2_1 <br>
					<input type="checkbox" name="Selection" value="2" id="2"> test2_2 <br>
					<input type="checkbox" name="Selection" value="3" id="3"> test2_3 <br>
					<input type="checkbox" name="Selection" value="4" id="4"> test2_4 <br>
					<input type="checkbox" name="Selection" value="5" id="5"> test2_5 <br>	
				</p>
		</form>

		<script>
			$(function () {
				$('input:checkbox').change(function() {
					var totalCount = document.todayTodoList.Required.length + document.todayTodoList.Selection.length;
					var RequiredBoxCount = $('#RequiredBox input:checkbox:checked').length;
					var SelectionBoxCount = $('#SelectionBox input:checkbox:checked').length;
					var progressPoint = ((RequiredBoxCount + SelectionBoxCount) / totalCount) * 100;
					$('div.todayTodoListClass').text('進捗は' + progressPoint + '%です。');
					var a = document.getElementById('progressBar');
					a.value = progressPoint;
				}).trigger('change');
			});
		</script>
		
	</body>
</html>